@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .container {
    @apply max-w-screen-xl px-6 mx-auto;
  }
  .hero-text-faded {
    color: #ffffff80;
  }
  .btn {
    @apply px-8 py-3.5 font-bold;
  }
  .btn-primary {
    background-color: var(--accent-clr);
    @apply text-white;
  }
  .btn-transparent {
    color: var(--text-primary-clr);
    border: 1px solid var(--text-primary-clr);
    @apply bg-transparent transition-colors hover:bg-[var(--text-primary-clr)]
     hover:text-white block text-sm w-fit tracking-wide;
  }
  .btn-black {
    background-color: var(--text-primary-clr);
    color: white;
  }
}

@layer base {
  :root {
    --base-background: rgb(250, 250, 250);
    --accent-clr: #d87d4a;
    --accent-clr-highlight: #ec9d6e;
    --text-primary-clr: #191919;
    --text-secondary-clr: rgba(0, 0, 0, 0.5);
    --category-faded-text-clr: #00000080;
    --grey-box: #f1f1f1;
    --category-text: #00000080;
    --orange-box-text: white;
    --orange-box-text-faded: #ffffffbf;
    --text-temporary: #191919;
    --text-temporary-faded: #00000080;
    --footer-divider: transparent;
    --category-page-hero-divider: transparent;

    --theme-switcher-button-active-bg: #e6e6e6;
    --theme-switcher-button: #666666;
    --theme-switcher-button-active: #171717;
    --theme-switcher-border: #3e3d3d;

    --placeholder-clr: #efefef;
  }
}

html.dark {
  --base-background: #191919;
  --accent-clr: #d87d4a;
  --accent-clr-highlight: #ec9d6e;
  --text-primary-clr: #191919;
  --text-secondary-clr: rgba(0, 0, 0, 0.5);
  --category-faded-text-clr: #00000080;
  --grey-box: #aaa;
  --category-text: #000000a8;
  --orange-box-text: #191919;
  --orange-box-text-faded: #191919bf;
  --text-temporary: #fff;
  --text-temporary-faded: #ffffff80;
  --footer-divider: #ffffff15;
  --category-page-hero-divider: var(--accent-clr);

  --theme-switcher-button-active-bg: #292929;
  --theme-switcher-button: #a1a1a1;
  --theme-switcher-button-active: #ededed;

  --placeholder-clr: #363636;
}

html.system {
  @media (prefers-color-scheme: dark) {
    --base-background: #191919;
    --accent-clr: #d87d4a;
    --accent-clr-highlight: #ec9d6e;
    --text-primary-clr: #191919;
    --text-secondary-clr: rgba(0, 0, 0, 0.5);
    --category-faded-text-clr: #00000080;
    --grey-box: #aaa;
    --category-text: #000000a8;
    --orange-box-text: #191919;
    --orange-box-text-faded: #191919bf;
    --text-temporary: #fff;
    --text-temporary-faded: #ffffff80;
    --footer-divider: #ffffff15;
    --category-page-hero-divider: var(--accent-clr);

    --theme-switcher-button-active-bg: #292929;
    --theme-switcher-button: #a1a1a1;
    --theme-switcher-button-active: #ededed;

    --placeholder-clr: #363636;
  }
}

@layer components {
  .hero {
    position: relative;
    z-index: 20;
    &::before {
      content: '';
      width: 100%;
      height: 100%;
      position: absolute;
      left: 0;
      top: -10%;
      z-index: -20;

      @apply bg-hero-mobile bg-no-repeat bg-center 
      bg-[length:min(100%,380px)] sm:bg-hero-tablet 
      sm:bg-contain sm:scale-[115%] lg:bg-hero-desktop;
    }
  }
  .orange-box {
    background-repeat: no-repeat;
    background-size: cover;
    background-position: 50% -120px;
  }

  footer {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 4px;
      left: 0;
      top: 0;
      background-color: var(--footer-divider);
    }
    &::after {
      content: '';
      position: absolute;
      width: 6.25rem;
      height: 4px;
      background-color: var(--accent-clr);
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }
  }

  .themeSwitcher {
    border-color: var(--theme-switcher-border);
  }
  .themeSwitcher > li {
    color: var(--theme-switcher-button);
  }
  .themeSwitcher > li.active {
    background-color: var(--theme-switcher-button-active-bg);
    color: var(--theme-switcher-button-active);
  }

  .categories-hero {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      height: 5px;
      transform: translateX(-50%);
      background-color: var(--category-page-hero-divider);
      transition: background-color 1.75s ease-in-out;
    }
  }

  .placeholder-image {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 1;
      background-color: var(--placeholder-clr);
      @apply animate-pulse rounded-lg;
    }
    img {
      opacity: 0;
    }
  }
}
